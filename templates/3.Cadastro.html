<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Body Health App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        /* Estilos Gerais para o Tema Escuro, baseados nas suas imagens */
        :root {
            --dark-bg: #1a1a1a;
            --dark-card-bg: #2b2b2b;
            --dark-text-color: #e0e0e0;
            --dark-muted-text: #b0b0b0;
            --dark-border-color: #444444;
            --dark-shadow-color: rgba(0,0,0,0.5);
            --highlight-yellow: #ffc107; /* Amarelo principal */
            --highlight-yellow-dark: #e6b000; /* Amarelo mais escuro para hover */
        }

        body {
            background-color: var(--dark-bg);
            color: var(--dark-text-color);
            font-family: Arial, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            justify-content: center; /* Centraliza verticalmente */
            align-items: center; /* Centraliza horizontalmente */
            background-image: url('https://via.placeholder.com/1920x1080/1a1a1a/1a1a1a?text='); /* Placeholder para imagem de fundo */
            background-size: cover;
            background-position: center;
            position: relative;
        }

        /* Overlay para escurecer a imagem de fundo */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Mais escuro para o formulário se destacar */
            z-index: 0;
        }

        /* Navbar no topo */
        .navbar {
            background-color: black; /* Fundo sólido para a navbar */
            position: fixed; /* Fixa a navbar no topo */
            top: 0;
            width: 100%;
            padding: 10px 30px;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5); /* Sombra para destacas */
        }
        .navbar-brand img {
            height: 40px;
            margin-right: 10px;
        }
        .navbar-brand {
            color: white !important;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        .navbar-nav .nav-link {
            color: white !important;
            margin-left: 20px;
            text-transform: uppercase;
            font-weight: 500;
        }
        .navbar-nav .nav-link:hover {
            color: var(--highlight-yellow) !important;
        }

        /* Card de Cadastro */
        .register-card {
            background-color: var(--dark-card-bg);
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 20px var(--dark-shadow-color);
            width: 100%;
            max-width: 550px; /* Largura um pouco maior para acomodar mais campos */
            z-index: 1; /* Acima do overlay */
            margin-top: 80px; /* Espaço para a navbar fixa */
            margin-bottom: 20px;
        }
        .register-card h2 {
            color: var(--dark-text-color);
            margin-bottom: 30px;
            text-align: center;
            font-weight: bold;
        }

        .form-label {
            color: var(--dark-text-color);
            font-weight: 500;
            margin-bottom: 5px;
        }

        .form-control, .form-select {
            background-color: #3b3b3b;
            color: var(--dark-text-color);
            border: 1px solid var(--dark-border-color);
            padding: 12px 15px;
            border-radius: 5px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .form-control::placeholder, .form-select option {
            color: var(--dark-muted-text);
        }
        .form-control:focus, .form-select:focus {
            background-color: #454545;
            color: var(--dark-text-color);
            border-color: var(--highlight-yellow);
            box-shadow: 0 0 0 0.25rem rgba(255,193,7,0.25);
        }

        .btn-register {
            background-color: var(--highlight-yellow);
            color: #212529; /* Texto escuro no botão amarelo */
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: bold;
            width: 100%;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }
        .btn-register:hover {
            background-color: var(--highlight-yellow-dark);
            color: #212529;
        }

        .text-center small {
            color: var(--dark-muted-text);
            display: block;
            margin-top: 20px;
        }
        .text-center small a {
            color: var(--highlight-yellow);
            text-decoration: none;
            font-weight: bold;
        }
        .text-center small a:hover {
            text-decoration: underline;
        }


        /* Esconde os campos de forma inicial */
        .form-group-client, .form-group-professional {
            display: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="DeWatermark.ai_1747155996253.png" alt="Body Health Logo"> Body Health
            </a>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="1.DashboardInicial.html">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="6.Suporte.html">SUPORTE</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="4.Planos.html">PLANOS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="5.SobreNos.html">SOBRE NÓS</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="register-card">
        <h2>Criar sua Conta</h2>
        <form id="cadastroForm">
            <div class="mb-4">
                <label for="tipoConta" class="form-label">Você é:</label>
                <select class="form-select" id="tipoConta" required>
                    <option value="" selected disabled>Selecione o tipo de conta</option>
                    <option value="cliente">Cliente</option>
                    <option value="profissional">Profissional (Personal Trainer ou Nutricionista)</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="email" placeholder="Digite seu e-mail" required>
            </div>
            <div class="mb-3">
                <label for="senha" class="form-label">Senha</label>
                <input type="password" class="form-control" id="senha" placeholder="Digite sua senha" required>
            </div>
            <div class="mb-3">
                <label for="confirmarSenha" class="form-label">Confirmar Senha</label>
                <input type="password" class="form-control" id="confirmarSenha" placeholder="Confirme sua senha" required>
            </div>

            <div id="camposCliente" class="form-group-client">
                <div class="mb-3">
                    <label for="nomeCliente" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="nomeCliente" placeholder="Seu nome completo">
                </div>
                <div class="mb-3">
                    <label for="cpfCliente" class="form-label">CPF</label>
                    <input type="text" class="form-control" id="cpfCliente" placeholder="000.000.000-00">
                </div>
                </div>

            <div id="camposProfissional" class="form-group-professional">
                <div class="mb-3">
                    <label for="nomeProfissional" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="nomeProfissional" placeholder="Seu nome completo">
                </div>
                <div class="mb-3">
                    <label for="cpfProfissional" class="form-label">CPF</label>
                    <input type="text" class="form-control" id="cpfProfissional" placeholder="000.000.000-00">
                </div>
                <div class="mb-3">
                    <label for="dataNascimentoProfissional" class="form-label">Data de Nascimento</label>
                    <input type="date" class="form-control" id="dataNascimentoProfissional">
                </div>
                <div class="mb-3">
                    <label for="tipoProfissional" class="form-label">Tipo de Profissional</label>
                    <select class="form-select" id="tipoProfissionalSelect">
                        <option value="" selected disabled>Selecione (Personal ou Nutricionista)</option>
                        <option value="personal_trainer">Personal Trainer</option>
                        <option value="nutricionista">Nutricionista</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="numeroRegistro" class="form-label">Número de Registro (CREF/CRN)</label>
                    <input type="text" class="form-control" id="numeroRegistro" placeholder="Ex: CREF 000000-G/RJ ou CRN 00000">
                    <div class="form-text text-muted">Seu registro será verificado para aprovação da conta.</div>
                </div>
                <div class="mb-3">
                    <label for="diplomaFoto" class="form-label">Foto do Diploma / Certificado de Formação</label>
                    <input class="form-control" type="file" id="diplomaFoto" accept="image/*">
                    <div class="form-text text-muted">Envie uma foto clara do seu diploma ou certificado para validação.</div>
                </div>
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="termos" required>
                <label class="form-check-label" for="termos">Concordo com os <a href="#" class="text-warning">Termos de Serviço</a> e a <a href="#" class="text-warning">Política de Privacidade</a>.</label>
            </div>
            <button type="submit" class="btn btn-register">Cadastrar</button>
        </form>
        <p class="text-center mt-4">Já tem uma conta? <a href="2.Login.html">Faça Login</a></p>
    </div>

    <a href="https://wa.me/SEU_NUMERO_WHATSAPP" target="_blank" class="whatsapp-icon">
        <i class="bi bi-whatsapp"></i>
    </a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tipoContaSelect = document.getElementById('tipoConta');
            const camposClienteDiv = document.getElementById('camposCliente');
            const camposProfissionalDiv = document.getElementById('camposProfissional');
            const form = document.getElementById('cadastroForm');

            const emailInput = document.getElementById('email');
            const senhaInput = document.getElementById('senha');
            const confirmarSenhaInput = document.getElementById('confirmarSenha');

            // Campos de Cliente
            const nomeClienteInput = document.getElementById('nomeCliente');
            const cpfClienteInput = document.getElementById('cpfCliente');

            // Campos de Profissional
            const nomeProfissionalInput = document.getElementById('nomeProfissional');
            const cpfProfissionalInput = document.getElementById('cpfProfissional');
            const dataNascimentoProfissionalInput = document.getElementById('dataNascimentoProfissional');
            const tipoProfissionalSelect = document.getElementById('tipoProfissionalSelect');
            const numeroRegistroInput = document.getElementById('numeroRegistro');
            const diplomaFotoInput = document.getElementById('diplomaFoto');

            // Função para gerenciar a visibilidade e o atributo 'required'
            function toggleFields() {
                const tipoSelecionado = tipoContaSelect.value;

                // Esconde e remove 'required' de todos os campos específicos
                camposClienteDiv.style.display = 'none';
                nomeClienteInput.removeAttribute('required');
                cpfClienteInput.removeAttribute('required');

                camposProfissionalDiv.style.display = 'none';
                nomeProfissionalInput.removeAttribute('required');
                cpfProfissionalInput.removeAttribute('required');
                dataNascimentoProfissionalInput.removeAttribute('required');
                tipoProfissionalSelect.removeAttribute('required');
                numeroRegistroInput.removeAttribute('required');
                diplomaFotoInput.removeAttribute('required');


                // Mostra e adiciona 'required' para os campos do tipo selecionado
                if (tipoSelecionado === 'cliente') {
                    camposClienteDiv.style.display = 'block';
                    nomeClienteInput.setAttribute('required', 'true');
                    cpfClienteInput.setAttribute('required', 'true');
                } else if (tipoSelecionado === 'profissional') {
                    camposProfissionalDiv.style.display = 'block';
                    nomeProfissionalInput.setAttribute('required', 'true');
                    cpfProfissionalInput.setAttribute('required', 'true');
                    dataNascimentoProfissionalInput.setAttribute('required', 'true');
                    tipoProfissionalSelect.setAttribute('required', 'true');
                    numeroRegistroInput.setAttribute('required', 'true');
                    diplomaFotoInput.setAttribute('required', 'true');
                }
            }

            // Ouve a mudança no select de tipo de conta
            tipoContaSelect.addEventListener('change', toggleFields);

            // Garante que os campos estejam no estado correto ao carregar a página
            toggleFields();

            // Validação do formulário ao tentar enviar
            form.addEventListener('submit', function(event) {
                // Previne o envio padrão do formulário
                event.preventDefault();

                // Validação de senhas
                if (senhaInput.value !== confirmarSenhaInput.value) {
                    alert('As senhas não coincidem. Por favor, verifique.');
                    senhaInput.classList.add('is-invalid');
                    confirmarSenhaInput.classList.add('is-invalid');
                    return;
                } else {
                    senhaInput.classList.remove('is-invalid');
                    confirmarSenhaInput.classList.remove('is-invalid');
                }

                // Lógica de validação adicional aqui (ex: CPF válido, tipo de arquivo, etc.)
                // Para CPF, você pode usar uma biblioteca ou regex para validação básica.
                // Para a foto do diploma, você pode verificar o tipo e tamanho do arquivo.

                const tipoSelecionado = tipoContaSelect.value;
                let dadosCadastro = {
                    email: emailInput.value,
                    senha: senhaInput.value,
                    tipoConta: tipoSelecionado
                };

                if (tipoSelecionado === 'cliente') {
                    dadosCadastro.nome = nomeClienteInput.value;
                    dadosCadastro.cpf = cpfClienteInput.value;
                    // Em um ambiente real, você enviaria esses dados para o backend de cadastro de cliente
                    console.log("Dados de cadastro de Cliente:", dadosCadastro);
                    alert("Cadastro de Cliente enviado! Você será redirecionado para a página inicial.");
                    // window.location.href = 'dashboard_cliente.html'; // Redirecionar após sucesso
                } else if (tipoSelecionado === 'profissional') {
                    dadosCadastro.nome = nomeProfissionalInput.value;
                    dadosCadastro.cpf = cpfProfissionalInput.value;
                    dadosCadastro.dataNascimento = dataNascimentoProfissionalInput.value;
                    dadosCadastro.tipoProfissional = tipoProfissionalSelect.value;
                    dadosCadastro.numeroRegistro = numeroRegistroInput.value;
                    // Para o diploma, você precisaria usar FormData para enviar o arquivo
                    // e uma rota de upload no seu backend.
                    // Ex: const formData = new FormData(form);
                    // formData.append('diplomaFoto', diplomaFotoInput.files[0]);
                    console.log("Dados de cadastro de Profissional:", dadosCadastro);
                    console.log("Arquivo de Diploma:", diplomaFotoInput.files[0]);
                    alert("Cadastro de Profissional enviado! Sua conta será revisada e você receberá uma notificação.");
                    // window.location.href = 'cadastro_pendente_profissional.html'; // Redirecionar após envio para revisão
                } else {
                    alert("Por favor, selecione o tipo de conta.");
                    return;
                }

                // Em um ambiente real, após coletar os dados, você faria uma requisição AJAX/Fetch para o seu backend
                // Exemplo básico (você precisaria adaptar para sua API):
                /*
                fetch('/api/cadastro', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(dadosCadastro),
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Cadastro realizado com sucesso!');
                        // Redirecionar para a dashboard ou página de sucesso
                        // window.location.href = data.redirectUrl;
                    } else {
                        alert('Erro no cadastro: ' + data.message);
                    }
                })
                .catch((error) => {
                    console.error('Erro:', error);
                    alert('Erro na comunicação com o servidor.');
                });
                */
            });
        });
    </script>
</body>
</html>